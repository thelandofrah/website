<div class="site-nav-wrap">
  <nav class="site-nav" role="navigation">
    <a class="site-nav__home" href="{{ .Site.Home.RelPermalink }}">
      Home
    </a>
    <button class="site-nav__toggle" type="button" aria-expanded="false" aria-controls="site-nav-menu">
      <span class="site-nav__toggle-label">Menu</span>
      <span class="site-nav__toggle-arrow">▾</span>
    </button>
    <div class="site-nav__links" id="site-nav-menu">
      {{ $allowed := slice "Music" "Art" "Comics" "Videos" "Maps" "Upcoming Events" "Merch" "Past Events / Photos" "Mailing List" }}
      {{ if .Site.Menus.main }}
        <ul class="site-nav__menu">
          {{ range .Site.Menus.main }}
            {{ if in $allowed .Name }}
              <li class="site-nav__item">
                <a class="site-nav__link" href="{{ .URL }}" title="{{ .Name }}">
                  {{ .Name }}
                </a>
              </li>
            {{ end }}
          {{ end }}
        </ul>
      {{ end }}
    </div>
  </nav>
</div>
<script>
(() => {
  const wrap = document.currentScript.previousElementSibling;
  if (!wrap) return;
  const nav = wrap.querySelector('.site-nav');
  const toggle = wrap.querySelector('.site-nav__toggle');
  const links = wrap.querySelector('.site-nav__links');
  if (!toggle || !nav || !links) return;
  toggle.addEventListener('click', () => {
    const isOpen = nav.classList.toggle('is-open');
    toggle.setAttribute('aria-expanded', isOpen);
    toggle.querySelector('.site-nav__toggle-arrow').textContent = isOpen ? '▴' : '▾';
  });
})();
</script>
